{"openapi":"3.0.0","info":{"title":"STPP Rentee API","version":"1.0.0"},"components":{},"paths":{"/api/v1/auth/login":{"post":{"description":"Logs in a user (returns an http-only cookie with the auth token).","tags":["Auth"],"responses":{"200":{"description":"Login successful!","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Login successful!"}}}}}},"400":{"description":"The request body is invalid. Message provided in the response body."},"401":{"description":"Invalid username or password. Please check your credentials and try again."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["username","password"],"properties":{"username":{"type":"string","example":"user1"},"password":{"type":"string","example":"labas123"}}}}}}}},"/api/v1/auth/logout":{"post":{"description":"Deletes the user auth token cookie.","tags":["Auth"],"responses":{"200":{"description":"Log out successful!","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Log out successful!"}}}}}}}}},"/api/v1/auth/register":{"post":{"description":"Registers a user (returns an http-only cookie with the auth token).","tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["username","password","role"],"properties":{"username":{"type":"string","example":"user1"},"password":{"type":"string","example":"labas123"},"role":{"type":"string","example":"renter"}}}}}},"responses":{"200":{"description":"Registration successful.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Registration successful!"}}}}}},"400":{"description":"The request body is invalid. Message provided in the response body."},"409":{"description":"The requested username is already taken. Please choose a different username."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}}},"/api/v1/houses/{id}":{"patch":{"description":"Updates a house listing (requires to be logged-in as a renter that created the house).","tags":["Houses"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","description":"The house ID."}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Butas Kaune 1"},"region":{"type":"string","example":"Kaunas"},"district":{"type":"string","example":"┼áilainiai"},"location_description":{"type":"string","example":"Arti parduotuv─ù."},"wifi_speed":{"type":"integer","example":"20"},"image":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"Successfully updated the house listing.","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"success"},"status":{"type":"number","example":200},"data":{"type":"string","example":"*omitted*"}}}}}},"400":{"description":"The request formData is invalid. Please check your data and try again."},"401":{"description":"User was not logged-in as a renter or is not the one that created the specified house."},"404":{"description":"The house with the specified id does not exist."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}},"delete":{"description":"Deletes a house listing (requires to be logged-in as a renter that created the house).","tags":["Houses"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","description":"The house ID."}}],"responses":{"200":{"description":"Successfully deleted the house listing.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Successfully deleted house listing."}}}}}},"401":{"description":"User was not logged-in as a renter or is not the one that created the specified house."},"404":{"description":"The house with the specified id does not exist."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}}},"/api/v1/houses":{"post":{"description":"Creates a house listing (requires to be logged-in as a renter).","tags":["Houses"],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","required":["name","region","district","location_description","wifi_speed","image"],"properties":{"name":{"type":"string","example":"Butas Kaune 1"},"region":{"type":"string","example":"Kaunas"},"district":{"type":"string","example":"┼áilainiai"},"location_description":{"type":"string","example":"Arti parduotuv─ù."},"wifi_speed":{"type":"integer","example":"20"},"image":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"Successfully created listing!","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"success"},"status":{"type":"number","example":200},"data":{"type":"string","example":"*omitted*"}}}}}},"400":{"description":"The request formData is invalid. Please check your data and try again."},"401":{"description":"Only renters can create houses. Please login."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}},"get":{"description":"Gets all house listings.","tags":["Houses"],"responses":{"200":{"description":"Returns a list of houses.","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","example":"BAHARİYE ERASMUS HOUSE"},"region":{"type":"string","example":"KADIKÖY"},"district":{"type":"string","example":"OSMANAĞA"},"location_description":{"type":"string","example":"*omitted*"},"wifi_speed":{"type":"number","example":50},"image_url":{"type":"string","example":"https://ghryg4oekbndllfk.public.blob.vercel-storage.com/banner-cIMQn3oWYmBK2lWw1mtF19WSbxc7ec.webp"}}}}}}},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}},"parameters":[{"in":"query","name":"offset","description":"The number of houses to skip.","schema":{"type":"integer","default":0}},{"in":"query","name":"limit","description":"The numbers of houses to return","schema":{"type":"integer","default":10}}]}}},"tags":[]}