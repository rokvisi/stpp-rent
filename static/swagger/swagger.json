{"openapi":"3.0.0","info":{"title":"STPP Rentee API","version":"1.0.0"},"components":{},"paths":{"/api/v1/auth/login":{"post":{"description":"Logs in a user (returns an http-only cookie with the auth token).","tags":["Auth"],"responses":{"200":{"description":"Login successful!","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Login successful!"}}}}}},"400":{"description":"The request body is invalid. Message provided in the response body."},"401":{"description":"Invalid username or password. Please check your credentials and try again."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["username","password"],"properties":{"username":{"type":"string","example":"user1"},"password":{"type":"string","example":"labas123"}}}}}}}},"/api/v1/auth/logout":{"post":{"description":"Deletes the user auth token cookie.","tags":["Auth"],"responses":{"200":{"description":"Log out successful!","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Log out successful!"}}}}}}}}},"/api/v1/auth/register":{"post":{"description":"Registers a user (returns an http-only cookie with the auth token).","tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["username","password","role"],"properties":{"username":{"type":"string","example":"user1"},"password":{"type":"string","example":"labas123"},"role":{"type":"string","example":"renter"}}}}}},"responses":{"200":{"description":"Registration successful.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Registration successful!"}}}}}},"400":{"description":"The request body is invalid. Message provided in the response body."},"409":{"description":"The requested username is already taken. Please choose a different username."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}}},"/api/v1/houses/{id}":{"get":{"description":"Gets a house listing.","tags":["Houses"],"responses":{"200":{"description":"Returns a list of houses.","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"BAHAR─░YE ERASMUS HOUSE"},"region":{"type":"string","example":"KADIK├ûY"},"district":{"type":"string","example":"OSMANA─₧A"},"location_description":{"type":"string","example":"*omitted*"},"wifi_speed":{"type":"number","example":50},"image_url":{"type":"string","example":"https://ghryg4oekbndllfk.public.blob.vercel-storage.com/banner-cIMQn3oWYmBK2lWw1mtF19WSbxc7ec.webp"}}}}}},"404":{"description":"The house with the specified id does not exist."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}},"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","description":"The house ID."}}]},"patch":{"description":"Updates a house listing (requires to be logged-in as a renter that created the house).","tags":["Houses"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","description":"The house ID."}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Butas Kaune 1"},"region":{"type":"string","example":"Kaunas"},"district":{"type":"string","example":"┼áilainiai"},"location_description":{"type":"string","example":"Arti parduotuv─ù."},"wifi_speed":{"type":"integer","example":"20"},"image":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"Successfully updated the house listing.","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"success"},"status":{"type":"number","example":200},"data":{"type":"string","example":"*omitted*"}}}}}},"400":{"description":"The request formData is invalid. Please check your data and try again."},"401":{"description":"User was not logged-in as a renter or is not the one that created the specified house."},"404":{"description":"The house with the specified id does not exist."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}},"delete":{"description":"Deletes a house listing (requires to be logged-in as a renter that created the house).","tags":["Houses"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","description":"The house ID."}}],"responses":{"200":{"description":"Successfully deleted the house listing.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Successfully deleted house listing."}}}}}},"401":{"description":"User was not logged-in as a renter or is not the one that created the specified house."},"404":{"description":"The house with the specified id does not exist."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}}},"/api/v1/houses/{house_id}/rooms/{room_id}":{"get":{"description":"Gets a room in a house.","tags":["Rooms by house id"],"parameters":[{"in":"path","name":"house_id","required":true,"schema":{"type":"integer","description":"The house ID."}},{"in":"path","name":"room_id","required":true,"schema":{"type":"integer","description":"The room ID."}}],"responses":{"200":{"description":"Gets a room in a house.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","example":1},"number":{"type":"number","example":1},"description":{"type":"string","example":"Invoices are included. There is a double bed, wardrobe, desk, chair and lampshade."},"price":{"type":"number","example":325}}}}}},"404":{"description":"The room with the specified id does not exist in the house."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}},"patch":{"description":"Updates a room in a house. (requires to be logged-in as a renter)","tags":["Rooms by house id"],"parameters":[{"in":"path","name":"house_id","required":true,"schema":{"type":"integer","description":"The house ID."}},{"in":"path","name":"room_id","required":true,"schema":{"type":"integer","description":"The room ID."}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"number":{"type":"string","example":"1"},"price":{"type":"integer","example":"325"},"description":{"type":"string","example":"Invoices are included. There is a double bed, wardrobe, desk, chair and lampshade."}}}}}},"responses":{"200":{"description":"Updated a room in a house.","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","default":"success"},"status":{"type":"number","default":200},"data":{"type":"string","default":"*omitted*"}}}}}},"400":{"description":"The request formData is invalid. Please check your data and try again."},"401":{"description":"User not logged-in or the specified room was created by a different renter."},"404":{"description":"The room with the specified id does not exist in the house."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}},"delete":{"description":"Deletes a room in a house. (requires to be logged-in as a renter)","tags":["Rooms by house id"],"parameters":[{"in":"path","name":"house_id","required":true,"schema":{"type":"integer","description":"The house ID."}},{"in":"path","name":"room_id","required":true,"schema":{"type":"integer","description":"The room ID."}}],"responses":{"200":{"description":"Deleted a room in a house.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","default":"Successfully deleted the room listing."}}}}}},"401":{"description":"User not logged-in or the specified room was created by a different renter."},"404":{"description":"The room with the specified id does not exist in the house."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}}},"/api/v1/houses/{house_id}/rooms":{"post":{"description":"Creates a room listing in a house (requires to be logged-in as a renter).","tags":["Rooms by house id"],"parameters":[{"in":"path","name":"house_id","required":true,"schema":{"type":"integer","description":"The house ID."}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","required":["number","price","description"],"properties":{"number":{"type":"string","example":"1"},"price":{"type":"integer","example":"325"},"description":{"type":"string","example":"Invoices are included. There is a double bed, wardrobe, desk, chair and lampshade."}}}}}},"responses":{"200":{"description":"Successfully created listing!","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","default":"success"},"status":{"type":"number","default":200},"data":{"type":"string","example":"*omitted*"}}}}}},"400":{"description":"The request formData is invalid. Please check your data and try again."},"401":{"description":"User not logged-in or the specified room was created by a different renter."},"404":{"description":"The specified house does not exist."},"409":{"description":"The requested room number is already taken. Please choose a different room number."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}},"get":{"description":"Gets all rooms in the house.","tags":["Rooms by house id"],"parameters":[{"in":"path","name":"house_id","required":true,"schema":{"type":"integer","description":"The house ID."}},{"in":"query","name":"offset","description":"The number of houses to skip.","schema":{"type":"integer","default":0}},{"in":"query","name":"limit","description":"The numbers of houses to return","schema":{"type":"integer","default":10}}],"responses":{"200":{"description":"Returns a list of rooms in a house.","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","example":1},"number":{"type":"number","example":1},"description":{"type":"string","example":"Invoices are included. There is a double bed, wardrobe, desk, chair and lampshade."},"price":{"type":"number","example":325}}}}}}},"404":{"description":"The specified house has no rooms."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}}},"/api/v1/houses":{"post":{"description":"Creates a house listing (requires to be logged-in as a renter).","tags":["Houses"],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","required":["name","region","district","location_description","wifi_speed","image"],"properties":{"name":{"type":"string","example":"Butas Kaune 1"},"region":{"type":"string","example":"Kaunas"},"district":{"type":"string","example":"┼áilainiai"},"location_description":{"type":"string","example":"Arti parduotuv─ù."},"wifi_speed":{"type":"integer","example":"20"},"image":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"Successfully created listing!","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"success"},"status":{"type":"number","example":200},"data":{"type":"string","example":"*omitted*"}}}}}},"400":{"description":"The request formData is invalid. Please check your data and try again."},"401":{"description":"Only renters can create houses. Please login."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}},"get":{"description":"Gets all house listings.","tags":["Houses"],"parameters":[{"in":"query","name":"offset","description":"The number of houses to skip.","schema":{"type":"integer","default":0}},{"in":"query","name":"limit","description":"The numbers of houses to return","schema":{"type":"integer","default":10}}],"responses":{"200":{"description":"Returns a list of houses.","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","example":1},"name":{"type":"string","example":"BAHARİYE ERASMUS HOUSE"},"region":{"type":"string","example":"KADIKÖY"},"district":{"type":"string","example":"OSMANAĞA"},"location_description":{"type":"string","example":"*omitted*"},"wifi_speed":{"type":"number","example":50},"image_url":{"type":"string","example":"https://ghryg4oekbndllfk.public.blob.vercel-storage.com/banner-cIMQn3oWYmBK2lWw1mtF19WSbxc7ec.webp"}}}}}}},"404":{"description":"No houses exist."},"503":{"description":"Sorry, we are currently experiencing technical difficulties. Please try again later."}}}}},"tags":[]}